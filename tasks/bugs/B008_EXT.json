{
  "id": "B008_EXT",
  "title": "Двойная регистрация команды projectSelected и 401 Unauthorized API",
  "description": "Расширение не активируется из-за двойной регистрации команды 'projectMaster.projectSelected' и API возвращает 401 Unauthorized для запросов к /api/v1/projects и /api/v1/functional-blocks",
  "type": "bug",
  "priority": "critical",
  "status": "fixed",
  "functional_block": "EXT",
  "components": [
    "vscode-extension/src/extension.ts",
    "vscode-extension/src/providers/PlanProvider.ts",
    "vscode-extension/src/services/ConfigurationService.ts",
    "vscode-extension/package.json",
    "backend API authorization"
  ],
  "root_cause": "Несоответствие API ключей: расширение отправляло 'test-api-key-12345', а backend ожидал 'dev-api-key-12345'",
  "symptoms": [
    "command 'projectMaster.projectSelected' already exists",
    "401 Unauthorized для API запросов",
    "Расширение не активируется полностью",
    "Failed to load projects. Please check your API configuration"
  ],
  "impact": "Критический - полная неработоспособность расширения",
  "reproduction_steps": [
    "Открыть Cursor IDE",
    "Расширение пытается активироваться",
    "Получить ошибку дублирования команды",
    "API запросы возвращают 401 Unauthorized"
  ],
  "expected_behavior": "Расширение должно активироваться без ошибок и успешно загружать данные из API",
  "environment": {
    "ide": "Cursor",
    "extension_version": "0.4.2",
    "backend_status": "работает (порт 8080)",
    "api_key": "dev-api-key-12345"
  },
  "fixes_applied": [
    "Исправлен API ключ в ConfigurationService.ts: test-api-key-12345 -> dev-api-key-12345",
    "Исправлен дефолтный API ключ в package.json",
    "Удалена дублирующая регистрация команды projectMaster.projectSelected",
    "Создан новый VSIX пакет версии 0.4.2"
  ],
  "verification_steps": [
    "Установить project-master-extension-0.4.2.vsix",
    "Перезагрузить окно IDE",
    "Проверить активацию расширения без ошибок",
    "Проверить загрузку проектов (должно быть 200 OK вместо 401)"
  ],
  "created_at": "2024-12-22T09:18:00Z",
  "updated_at": "2025-06-22T13:10:00Z",
  "assigned_to": "system",
  "estimated_effort": "30 минут",
  "actual_effort": "45 минут"
} 